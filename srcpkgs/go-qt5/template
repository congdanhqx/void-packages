# Template file for 'go-qt5'
pkgname=go-qt5
version=0.0.20200904
revision=1
_git_hash=c0c124a5770d357908f16fa57e0aa0ec6ccd3f91
wrksrc=qt-$_git_hash
build_style=go
go_import_path="github.com/therecipe/qt"
go_package="
 $go_import_path/cmd/qtdeploy
 $go_import_path/cmd/qtminimal
 $go_import_path/cmd/qtmoc
 $go_import_path/cmd/qtrcc
 $go_import_path/cmd/qtsetup"
depends="qt5-qmake qt5-host-tools qt5-base-docs qt5-doc"
short_desc="Qt binding for golang"
maintainer="Đoàn Trần Công Danh <congdanhqx@gmail.com>"
license="LGPL-3.0-only"
homepage="https://github.com/therecipe/qt"
distfiles="https://github.com/therecipe/qt/archive/$_git_hash.tar.gz"
checksum=e58a1957611a894611f0a06ce1efe42859b66c2cafd2219fe5b9d497be467e7a
nocross="experimental packages"

if [ "$XBPS_TARGET_WORDSIZE" != 64 ]; then
	broken="mapping integer size between go and C++"
fi

post_install() {
	vmkdir usr/libexec/go-qt5
	mv $DESTDIR/usr/bin/* $DESTDIR/usr/libexec/go-qt5
}
