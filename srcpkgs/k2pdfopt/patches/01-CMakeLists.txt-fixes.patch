Index: b/CMakeLists.txt
===================================================================
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -57,37 +57,26 @@ endif(JPEG_FOUND)
 include(FindJasper)
 if(JASPER_FOUND)
   set(HAVE_JASPER_LIB 1)
+  set(K2PDFOPT_LIB ${K2PDFOPT_LIB} ${JASPER_LIBRARIES})
 endif(JASPER_FOUND)
 
-# paths from willuslib/wgs.c
-find_program(GHOSTSCRIPT_EXECUTABLE gs
-#  PATHS /usr/bin /usr/share/gs /usr/local/gs /opt/gs 
-#    /usr/share/gs* /usr/local/gs* /opt/gs*
-)
-if(GHOSTSCRIPT_EXECUTABLE)
-  set(HAVE_GHOSTSCRIPT 1)
-  message(STATUS "Found ghostscript executable")
-else()
-  message(STATUS "Could NOT find ghostscript executable")
-endif(GHOSTSCRIPT_EXECUTABLE)
+set(HAVE_GHOSTSCRIPT 1)
 
 # willus.h
 # HAVE_GSL_LIB
 
+pkg_check_modules(GSL gsl)
+if(GSL_FOUND)
+  set(HAVE_GSL_LIB 1)
+  include_directories(SYSTEM ${GSL_INCLUDEDIR})
+  set(K2PDFOPT_LIB ${K2PDFOPT_LIB} ${GSL_LDFLAGS})
+endif(GSL_FOUND)
 
 # libfreetype6 (>= 2.3.9), libjbig2dec0, libjpeg8 (>= 8c), libx11-6, libxext6, zlib1g (>= 1:1.2.0)
 # MUPDF_STATIC_LDFLAGS misses mupdf-js-none, and doubles libs ...
 
-pkg_check_modules(MUPDF mupdf)
-if(MUPDF_FOUND)
   set(HAVE_MUPDF_LIB 1) 
-  # (includes jbig2dec, openjpeg, freetype)
-  include_directories(SYSTEM ${MUPDF_INCLUDEDIR})
-  message(STATUS "mupdf libraries: ${MUPDF_LDFLAGS}")
-  set(K2PDFOPT_LIB ${K2PDFOPT_LIB} ${MUPDF_LDFLAGS} 
-    -lmupdf-js-none -lopenjpeg -ljbig2dec -ljpeg -lfreetype
-  )
-endif(MUPDF_FOUND)
+set(K2PDFOPT_LIB ${K2PDFOPT_LIB} -pthread -lmupdf -lmupdf-third -lgumbo -lopenjp2 -ljbig2dec -lfreetype -lharfbuzz)
 
 pkg_check_modules(DJVU ddjvuapi)
 if(DJVU_FOUND)
@@ -123,6 +112,8 @@ configure_file (
   "${PROJECT_BINARY_DIR}/config.h"
 )
 
+include_directories(${PROJECT_BINARY_DIR})
+
 add_subdirectory(willuslib)
 add_subdirectory(k2pdfoptlib)
 
@@ -130,6 +121,7 @@ add_subdirectory(k2pdfoptlib)
 add_executable(k2pdfopt k2pdfopt.c)
 target_link_libraries (k2pdfopt k2pdfoptlib willuslib ${K2PDFOPT_LIB} pthread)
 
+install(TARGETS k2pdfopt RUNTIME DESTINATION bin)
 
 message("")
 message("-- Summary --")
Index: b/willuslib/CMakeLists.txt
===================================================================
--- a/willuslib/CMakeLists.txt
+++ b/willuslib/CMakeLists.txt
@@ -22,6 +22,10 @@ if(DJVU_FOUND)
 endif(DJVU_FOUND)
 
 if(MUPDF_FOUND)
+if(TESSERACT_FOUND)
+  set(WILLUSLIB_SRC ${WILLUSLIB_SRC} ocrtess.c)
+endif(TESSERACT_FOUND)
+
   set(WILLUSLIB_SRC ${WILLUSLIB_SRC} bmpmupdf.c wmupdf.c)
 endif(MUPDF_FOUND)
 
